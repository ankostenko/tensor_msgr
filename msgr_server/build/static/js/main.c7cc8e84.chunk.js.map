{"version":3,"sources":["App.js","logo_transparent.png","reportWebVitals.js","index.js"],"names":["Chat","props","onClick","chooseChat","chat","className","alt","name","toLocaleUpperCase","message","time","ListOfChats","useState","allChats","setAllChats","useEffect","Axios","method","url","username","headers","then","res","new_data","data","chats","map","key","interval","setInterval","clearInterval","console","log","setChosenChat","ListOfMessagesByChatID","messages","setMessages","chat_id","ListOfUsers","users","user","selected_user","username_1","username_2","App","chosenChat","useForm","form","login","setLogin","authenticated","setAuthenticated","failedToLogin","setFailedToLogin","failedToRegister","setFailedToRegister","passwordsDontMatch","setPasswordDontMatch","setUsername","searchResults","setSearchResults","search","setSearch","style","backgroundColor","minHeight","Sider","theme","width","onFinish","values","onSearch","Item","noStyle","placeholder","onChange","str","target","value","onSearchChange","height","type","chosenChatId","offsetTop","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","color","msg","resetFields","sent_message","sender","sendMessage","offsetBottom","autoFocus","autoComplete","marginLeft","src","password","FormData","append","status","onLogin","marginTop","password_confirmation","onRegistration","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c7cc8e84.chunk.js","sourcesContent":["import \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport { Affix, Form, Layout } from \"antd\";\nimport { useForm } from \"antd/lib/form/Form\";\nimport Logo from \"./logo_transparent.png\";\nimport Axios from \"axios\";\n\nconst URL = \"localhost:3000\";\n\n/**\n * Fetch all messages by chat identifier\n */\nfunction getAllMessagesByChatID(chat_id) {\n  return [];\n}\n\n/**\n *  Renders chat item\n */\nconst Chat = (props) => {\n  return (\n    <div onClick={() => props.chooseChat(props.chat)} className=\"flex bg-gray-50 h-16 hover:bg-yellow-200 cursor-pointer\">\n      <div className=\"flex-none\">\n        <div className=\"inline-block h-10 w-10 rounded-full ring-2 ring-white m-3\" alt=\"user_avatar\">\n          <div className=\"text-bold\">{props.chat.name.toLocaleUpperCase()[0]}</div>\n        </div>\n      </div>\n      <div className=\"flex-1 mt-3 overflow-auto\">\n        <div className=\"font-bold flex justify-start subpixel-antialiased\">{props.chat.name}</div>\n        <div className=\"font-medium truncate subpixel-antialiased\">{props.chat.message}</div>\n      </div>\n      <div className=\"mt-3 mr-2 subpixel-antialiased sm:hidden md:block\">{props.chat.time}</div>\n    </div>\n  );\n};\n\n/**\n * Renders list of all available chat for a user\n */\nfunction ListOfChats(props) {\n  const [allChats, setAllChats] = useState([]);\n\n  // Fetch all chats for a current user\n  useEffect(() => {\n    Axios({\n      method: \"get\",\n      url: `http://localhost:5000/get_chats_by_user?username=${props.username}`,\n      headers: {\n        \"Access-Control-Allow-Origin\": \"http://localhost:3000\",\n        \"Content-Type\": \"application/json\",\n      },\n    }).then((res) => {\n      // sender message time\n      const new_data = res.data.chats.map((chat) => {\n        return {\n          key: chat[2],\n          name: chat[0] === props.username ? chat[1] : chat[0],\n          message: chat[4],\n          time: chat[5],\n        };\n      });\n      setAllChats(new_data);\n    });\n    const interval = setInterval(() => {\n      Axios({\n        method: \"get\",\n        url: `http://localhost:5000/get_chats_by_user?username=${props.username}`,\n        headers: {\n          \"Access-Control-Allow-Origin\": \"http://localhost:3000\",\n          \"Content-Type\": \"application/json\",\n        },\n      }).then((res) => {\n        // sender message time\n        const new_data = res.data.chats.map((chat) => {\n          return {\n            key: chat[2],\n            name: chat[0] === props.username ? chat[1] : chat[0],\n            message: chat[4],\n            time: chat[5],\n          };\n        });\n        setAllChats(new_data);\n      });\n      return () => clearInterval(interval);\n    }, 5000);\n  }, [setAllChats, props]);\n\n  /**Chooses chat on click and sets its id to current chosen chat\n    @param chat info about current chat\n  */\n  const chooseChat = (chat) => {\n    // Set current chat\n    console.log(chat);\n    props.setChosenChat(chat);\n  };\n\n  console.log(allChats);\n  return (\n    <div className=\"flex-col\">\n      {allChats.map((chat) => (\n        <Chat chooseChat={chooseChat} key={chat.key} chat={chat} />\n      ))}\n    </div>\n  );\n}\n\nfunction ListOfMessagesByChatID(props) {\n  const [messages, setMessages] = useState([]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      Axios({\n        method: \"get\",\n        url: `http://localhost:5000/get_messages_by_chat_id?chat_id=${props.chat_id}`,\n        headers: {\n          \"Access-Control-Allow-Origin\": \"http://localhost:3000\",\n          \"Content-Type\": \"application/json\",\n        },\n      }).then((res) => {\n        const new_data = res.data.messages.map((message) => {\n          return {\n            name: message[1],\n            message: message[2],\n            time: message[3],\n          };\n        });\n\n        setMessages(new_data);\n      });\n    }, 100);\n    return () => {\n      clearInterval(interval);\n    };\n  });\n\n  return (\n    <div className=\"flex-col overflow-y-scroll message-list\">\n      {messages.map((message) => (\n        <div className=\"flex bg-gray-50 h-auto hover:bg-yellow-300 ml-10\">\n          <div className=\"flex-1 mt-3 whitespace-normal text-left\">\n            <div className=\"font-bold subpixel-antialiased inline-block\">{message.name}</div>\n            <div className=\"font-normal inline-block ml-4\">{message.time}</div>\n            <div className=\"font-normal truncate subpixel-antialiased text-left whitespace-normal pr-16 mt-2\">{message.message}</div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n/**\n * Renders list of found users\n */\nconst ListOfUsers = (props) => {\n  // Create chat with selected user\n  const createChat = (selected_user) => {\n    console.log(selected_user[0]);\n    console.log(props.username);\n    Axios({\n      method: \"post\",\n      url: \"http://localhost:5000/create_chat\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"http://localhost:3000\",\n      },\n      data: {\n        username_1: props.username,\n        username_2: selected_user[0],\n      },\n    });\n  };\n\n  return (\n    <div>\n      {props.users.map((user) => (\n        <div key={user} className=\"flex bg-gray-50 h-16 hover:bg-yellow-200 cursor-pointer\" onClick={() => createChat(user)}>\n          <div className=\"flex-none\">\n            <div className={`inline-block h-10 w-10 rounded-full ring-2 ring-white m-3 bg-${\"yellow\"}-300`} alt=\"user_avatar\">\n              <div className=\"font-bold mt-2.5\">{user[0].toLocaleUpperCase()[0]}</div>\n            </div>\n          </div>\n          <div className=\"flex-1 mt-4 overflow-auto\">\n            <div className=\"font-medium flex justify-start subpixel-antialiased text-lg\">{user}</div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nfunction App() {\n  const [chosenChat, setChosenChat] = useState();\n\n  const [form] = useForm();\n\n  // Login screen\n  const [login, setLogin] = useState(true);\n  // Is authenticated\n  const [authenticated, setAuthenticated] = useState(false);\n  // Failed to login error message\n  const [failedToLogin, setFailedToLogin] = useState(false);\n  // Failed to register error message\n  const [failedToRegister, setFailedToRegister] = useState(false);\n  // Password and confirmation password doesn't match\n  const [passwordsDontMatch, setPasswordDontMatch] = useState(false);\n  // Current user username\n  const [username, setUsername] = useState(\"\");\n  // Search results\n  const [searchResults, setSearchResults] = useState([]);\n  // Search\n  const [search, setSearch] = useState(false);\n\n  // Send message and reset field to zero\n  const sendMessage = (msg) => {\n    form.resetFields([\"sent_message\"]);\n\n    // Empty messages don't get sent\n    if (msg.sent_message === \"\") {\n      return;\n    }\n\n    // Sent message to the server\n    Axios({\n      method: \"post\",\n      url: \"http://localhost:5000/msg\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"http://localhost:3000\",\n      },\n      data: { message: msg.sent_message, chat_id: chosenChat.key, sender: username },\n    });\n  };\n\n  // Sent request on login\n  const onLogin = (values) => {\n    setUsername(\"\");\n    setPasswordDontMatch(false);\n    setFailedToRegister(false);\n    setFailedToLogin(false);\n\n    if (values.login === \"\" || values.password === \"\") {\n      return;\n    }\n\n    // Construct form-data\n    const data = new FormData();\n    data.append(\"username\", values.login);\n    data.append(\"password\", values.password);\n\n    // Make a request to the server\n    Axios({\n      method: \"post\",\n      url: \"http://localhost:5000/login\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"http://localhost:3000\",\n        \"Content-Type\": \"multipart/form-data\",\n      },\n      data: data,\n    }).then((res) => {\n      // We're successfully logged in\n      if (res.data.status === \"success\") {\n        setAuthenticated(true);\n        setUsername(values.login);\n      } else {\n        setFailedToLogin(true);\n      }\n    });\n  };\n\n  // Registers user\n  const onRegistration = (values) => {\n    setUsername(\"\");\n    setPasswordDontMatch(false);\n    setFailedToRegister(false);\n    setFailedToLogin(false);\n\n    if (values.login === \"\" || values.password === \"\") {\n      return;\n    }\n\n    // Check if password and confirmation password match\n    if (values.password !== values.password_confirmation) {\n      setPasswordDontMatch(true);\n      return;\n    }\n\n    // Construct form-data\n    const data = new FormData();\n    data.append(\"username\", values.login);\n    data.append(\"password\", values.password);\n\n    // Make a request to the server\n    Axios({\n      method: \"post\",\n      url: \"http://localhost:5000/register\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"http://localhost:3000\",\n        \"Content-Type\": \"multipart/form-data\",\n      },\n      data: data,\n    }).then((res) => {\n      if (res.data.status === \"success\") {\n        // We are successfully registered\n        setAuthenticated(true);\n        setUsername(values.login);\n      } else {\n        setFailedToRegister(true);\n      }\n    });\n  };\n\n  // Search user by name\n  const onSearch = (values) => {\n    Axios({\n      method: \"post\",\n      url: \"http://localhost:5000/search\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"http://localhost:3000\",\n      },\n      data: {\n        username: values.search,\n      },\n    }).then((res) => {\n      setSearchResults(res.data.users);\n    });\n  };\n\n  // Checks if search query is empty\n  const onSearchChange = (str) => {\n    if (str.target.value !== \"\") {\n      setSearch(true);\n    } else {\n      setSearch(false);\n    }\n  };\n\n  return (\n    <div className={`App flex-none h-screen overflow-hidden`} style={{ backgroundColor: !authenticated ? \"#FCD34D\" : \"white\" }}>\n      {authenticated ? (\n        <Layout style={{ minHeight: \"100%\" }}>\n          <Layout.Sider theme=\"light\" width=\"18%\" className=\"\" style={{ backgroundColor: \"white\" }}>\n            <div className=\"text-xl text-left ml-4 font-bold\">{username}</div>\n            <Form onFinish={(values) => onSearch(values)}>\n              <Form.Item name=\"search\" noStyle>\n                <input\n                  placeholder=\"Поиск собеседника...\"\n                  onChange={(str) => onSearchChange(str)}\n                  className=\"w-full inline-block pl-4 ring-2 ring-gray-300 rounded-lg focus:outline-none\"\n                  style={{ height: \"40px\" }}\n                />\n              </Form.Item>\n              <button type=\"submit\"></button>\n            </Form>\n            {!search && <ListOfChats setChosenChat={setChosenChat} chosenChatId={chosenChat?.key} username={username} />}\n            {search && <ListOfUsers users={searchResults} username={username} />}\n          </Layout.Sider>\n          <Layout className=\"h-screen\" style={{ backgroundColor: \"#F9FAFB\" }}>\n            {chosenChat && (\n              <div className=\"h-screen overflow-hidden max-h-screen\">\n                <Affix offsetTop={0}>\n                  <div className=\"flex h-1/8 font-semibold text-2xl\" style={{ backgroundColor: \"#22B2DA\" }}>\n                    <div className=\"m-3 flex flex-row\">\n                      <div className=\"w-8 h-8 align-baseline cursor-pointer\" onClick={() => setChosenChat(null)}>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                        </svg>\n                      </div>\n                      <div className=\"pt-0.5\" style={{ color: \"#3B4A6B\" }}>\n                        {chosenChat.name}\n                      </div>\n                    </div>\n                  </div>\n                </Affix>\n\n                <ListOfMessagesByChatID chat_id={chosenChat.key} />\n\n                <Form onFinish={(msg) => sendMessage(msg)} form={form}>\n                  <Affix offsetBottom={18}>\n                    <div>\n                      <div className=\"bg-gray-200 flex flex-row p-2 mt-4\">\n                        <Form.Item name=\"sent_message\" noStyle>\n                          <input\n                            autoFocus\n                            autoComplete=\"off\"\n                            value=\"\"\n                            type=\"text\"\n                            placeholder=\"Введите свое сообщение...\"\n                            className=\"w-full rounded-2xl h-10 focus:outline-none inline-flex p-2\"\n                          />\n                        </Form.Item>\n                        <button className=\"inline-block w-8 h-8 mt-1 transform rotate-90 focus:outline-none \" type=\"submit\">\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                            className=\"text-gray-600 cursor-pointer\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\n                          </svg>\n                        </button>\n                      </div>\n                    </div>\n                  </Affix>\n                </Form>\n              </div>\n            )}\n          </Layout>\n        </Layout>\n      ) : (\n        <div>\n          <img className=\"w-1/5 h-1/5\" style={{ marginLeft: \"39%\" }} src={Logo} alt=\"\" />\n          <div className=\"flex-col justify-center\" style={{ marginLeft: \"40%\" }}>\n            <div className=\"flex flex-row\">\n              <div\n                onClick={() => setLogin(true)}\n                className=\"text-4xl text-left subpixel-antialiased font-sans font-black underline cursor-pointer w-1/16\"\n                style={{ color: login ? \"#3B4A6B\" : \"#22B2DA\" }}>\n                Вход\n              </div>\n              <div\n                onClick={() => setLogin(false)}\n                className=\"ml-3 text-4xl text-left subpixel-antialiased font-sans font-black underline cursor-pointer w-10\"\n                style={{ color: !login ? \"#3B4A6B\" : \"#22B2DA\" }}>\n                Регистрация\n              </div>\n            </div>\n            <div>\n              {login && (\n                <Form onFinish={(values) => onLogin(values)}>\n                  <Form.Item name=\"login\" noStyle>\n                    <input\n                      name=\"login\"\n                      className=\"flex w-4/12 ring-4 ring-yellow-300 h-10 rounded-2xl p-2 focus:outline-none text-lg focus:ring-blue-400\"\n                      placeholder=\"Логин\"\n                      style={{ marginTop: \"30px\" }}\n                    />\n                  </Form.Item>\n                  <Form.Item name=\"password\" noStyle>\n                    <input\n                      name=\"password\"\n                      className=\"flex w-4/12 ring-4 ring-yellow-300 h-10 rounded-2xl p-2 focus:outline-none text-lg focus:ring-blue-400 mt-4\"\n                      placeholder=\"Пароль\"\n                      type=\"password\"\n                    />\n                  </Form.Item>\n                  {failedToLogin && <div className=\"font-semibold text-xl text-left text-red-500\">Неверное имя пользователя или пароль</div>}\n                  <button\n                    type=\"submit\"\n                    className=\"mt-6 ml-0 flex justify-start focus:outline-none bg-yellow-500 rounded-full h-9 w-16 text-xl p-1 hover:bg-yellow-600\">\n                    Войти\n                  </button>\n                </Form>\n              )}\n              {!login && (\n                <Form onFinish={(values) => onRegistration(values)}>\n                  <Form.Item name=\"login\" noStyle>\n                    <input\n                      name=\"login\"\n                      className=\"flex w-4/12 ring-4 ring-yellow-300 h-10 rounded-2xl p-2 focus:outline-none text-lg focus:ring-blue-400\"\n                      placeholder=\"Логин\"\n                      style={{ marginTop: \"30px\" }}\n                    />\n                  </Form.Item>\n                  <Form.Item name=\"password\" noStyle>\n                    <input\n                      className=\"flex w-4/12 ring-4 ring-yellow-300 h-10 rounded-2xl p-2 focus:outline-none text-lg focus:ring-blue-400 mt-4\"\n                      placeholder=\"Пароль\"\n                      type=\"password\"\n                    />\n                  </Form.Item>\n                  <Form.Item name=\"password_confirmation\" noStyle>\n                    <input\n                      className=\"flex w-4/12 ring-4 ring-yellow-300 h-10 rounded-2xl p-2 focus:outline-none text-lg focus:ring-blue-400 mt-4\"\n                      placeholder=\"Подтверждение пароля\"\n                      type=\"password\"\n                    />\n                  </Form.Item>\n                  {failedToRegister && <div className=\"font-semibold text-xl text-left text-red-500\">Имя пользователя занято</div>}\n                  {passwordsDontMatch && <div className=\"font-semibold text-xl text-left text-red-500\">Пароли не совпадают</div>}\n                  <button\n                    type=\"submit\"\n                    className=\"mt-6 ml-0 flex justify-start focus:outline-none bg-yellow-500 rounded-full h-9 w-1/7 text-xl p-1 hover:bg-yellow-600\">\n                    Регистрация\n                  </button>\n                </Form>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","export default \"data:image/png;base64,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\"","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}